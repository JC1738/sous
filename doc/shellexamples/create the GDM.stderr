bash-3.2$ 
bash-3.2$ trap '(lasterr=$?; exec >&5; echo -n $lasterr; history 1)' ERR
bash-3.2$ git clone ssh://root@192.168.99.100:2222/gdm
Cloning into 'gdm'...
error: cannot run ssh_wrapper: No such file or directory
fatal: unable to fork
bash-3.2$ cat templated-configs/defs.yaml | tee gdm/defs.yaml
tee: gdm/defs.yaml: No such file or directory
cat: templated-configs/defs.yaml: No such file or directory
bash-3.2$ pushd gdm
bash: pushd: gdm: No such file or directory
bash-3.2$ git commit -am "Adding defs.yaml"
fatal: Not a git repository (or any of the parent directories): .git
bash-3.2$ git push
fatal: Not a git repository (or any of the parent directories): .git
bash-3.2$ popd
bash: popd: directory stack empty
bash-3.2$ 
bash-3.2$ status=$?
bash-3.2$ env >&4
bash-3.2$ echo $status >&3
